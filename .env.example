# Development Environment Variables Template
# Copy this file to .env and replace with your actual values
#
# TURBOREPO MONOREPO STRUCTURE:
# - apps/api: Hono on Cloudflare Workers (uses process.env or c.env bindings)
# - apps/web: TanStack Start on Cloudflare Workers (uses import.meta.env.VITE_*)
#
# For app-specific secrets, see:
# - apps/api/.dev.vars.example (API secrets for local wrangler)
# - apps/web/.env.example (Web app client-side vars)

# ============================================================================
# SHARED CONFIGURATION
# ============================================================================

NODE_ENV=development

# Cloudflare API Token (Local Development)
# Set this to enable Cloudflare bindings (AI, Browser) during local dev
# Leave empty to skip Cloudflare initialization and avoid OAuth login prompts
# Create token at: https://dash.cloudflare.com/profile/api-tokens
# Required permissions: Workers Scripts (Edit), D1 (Edit), R2 (Edit), Workers KV (Edit)
CLOUDFLARE_API_TOKEN=

# Node/PNPM Versions
NODE_VERSION=22.14.0
PNPM_VERSION=10.10.0

# ============================================================================
# TURBOREPO & BUILD CONFIGURATION
# ============================================================================

# Turbopack/Turbo Debug (if using turbo)
TURBO_LOG_VERBOSITY=4
TURBO_TELEMETRY_DEBUG=1

# Cloudflare/Wrangler Debug
WRANGLER_LOG=debug
MINIFLARE_LOG_LEVEL=debug

# Generic Verbose Logging
VERBOSE=true
LOG_LEVEL=debug

# Wrangler Build Configuration
WRANGLER_BUILD_CONDITIONS=""
WRANGLER_BUILD_PLATFORM="node"

# ============================================================================
# CLOUDFLARE D1 REMOTE DATABASE ACCESS
# ============================================================================
# Required for `pnpm db:studio:preview` or `pnpm db:studio:prod`

CLOUDFLARE_ACCOUNT_ID=499b6c3c38f75f7f7dc7d3127954b921
D1_TOKEN=your-cloudflare-api-token-here
PREVIEW_DATABASE_ID=45ba3c83-ee28-4138-a4af-fed442b3ad05
PROD_DATABASE_ID=8d7d88e0-7f78-4fa8-a70b-9aa32895ad6a

# How to get D1_TOKEN:
# 1. Go to: https://dash.cloudflare.com/profile/api-tokens
# 2. Create Custom Token with: Account > D1 > Read permission
# 3. Copy and paste the token above

# ============================================================================
# RAG (Retrieval Augmented Generation) - Cloudflare AI Search
# ============================================================================
# RAG uses Cloudflare AI Search (AutoRAG) for semantic search over project files.
# AI Search automatically indexes R2 buckets every 6 hours.
#
# SETUP REQUIRED (one-time per environment):
# 1. Create AI Search instance via Cloudflare dashboard or CLI:
#    wrangler ai-search create roundtable-rag-local --source r2://roundtable-dashboard-r2-uploads-local
#    wrangler ai-search create roundtable-rag-preview --source r2://roundtable-dashboard-r2-uploads-preview
#    wrangler ai-search create roundtable-rag-prod --source r2://roundtable-dashboard-r2-uploads-prod
#
# 2. Enable indexing in the dashboard for each instance
#
# AI Search Instances (must be created):
# - Local: roundtable-rag-local (connected to R2: roundtable-dashboard-r2-uploads-local)
# - Preview: roundtable-rag-preview (connected to R2: roundtable-dashboard-r2-uploads-preview)
# - Production: roundtable-rag-prod (connected to R2: roundtable-dashboard-r2-uploads-prod)
#
# Workers AI Binding: AI (configured in wrangler.jsonc)
# Access via: env.AI.autorag('roundtable-rag-{env}')
#
# Multitenancy: Files in projects/{projectId}/ are scoped per project
# Reference: https://developers.cloudflare.com/ai-search/
