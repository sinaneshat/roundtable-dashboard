# Development Environment Variables Template
# Copy this file to .env or .env.development and replace with your actual values
# These variables are available in both `next dev` and `wrangler dev`

# Application Environment
NODE_ENV=development
# URLs are derived from NEXT_PUBLIC_WEBAPP_ENV via centralized config (src/lib/config/base-urls.ts)
# Valid values: local, preview, prod
NEXT_PUBLIC_WEBAPP_ENV=local

# Cloudflare API Token (Local Development)
# Set this to enable Cloudflare bindings (AI, Browser) during local dev
# Leave empty to skip Cloudflare initialization and avoid OAuth login prompts
# Create token at: https://dash.cloudflare.com/profile/api-tokens
# Required permissions: Workers Scripts (Edit), D1 (Edit), R2 (Edit), Workers KV (Edit)
CLOUDFLARE_API_TOKEN=

NEXT_PUBLIC_APP_NAME=Roundtable Dashboard
NEXT_PUBLIC_APP_VERSION=1.0.0
NEXT_PUBLIC_MAINTENANCE=false

# Cloudflare Turnstile (Development)
NEXT_PUBLIC_TURNSTILE_SITE_KEY=0x4AAAAAAAnF8lAkO8_hM6w4

# R2 Public URL (Local)
NEXT_PUBLIC_R2_PUBLIC_URL=http://localhost:3000/uploads

# AWS SES Email Configuration
AWS_SES_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SES_SECRET_ACCESS_KEY=your-aws-secret-access-key
NEXT_PUBLIC_AWS_SES_REGION=eu-north-1
NEXT_PUBLIC_FROM_EMAIL=noreply@roundtable.now
NEXT_PUBLIC_SES_REPLY_TO_EMAIL=support@roundtable.now
NEXT_PUBLIC_SES_VERIFIED_EMAIL=noreply@roundtable.now

# Authentication
BETTER_AUTH_SECRET="your-better-auth-secret-min-32-characters-here"
BETTER_AUTH_URL=http://localhost:3000

# Google OAuth (Development)
AUTH_GOOGLE_ID=your-google-client-id.apps.googleusercontent.com
AUTH_GOOGLE_SECRET=your-google-client-secret

# Stripe Configuration
# ====================================================================================
# ACCOUNT: acct_1SPXN852vWNZ3v8w (Roundtable)
# Test Mode Dashboard: https://dashboard.stripe.com/test/dashboard
# Live Mode Dashboard: https://dashboard.stripe.com/dashboard
#
# LOCAL & PREVIEW ENVIRONMENTS (Test Mode)
# For local/preview, use these test mode credentials:
STRIPE_SECRET_KEY=sk_test_your_test_secret_key_here
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your_test_publishable_key_here
NEXT_PUBLIC_STRIPE_CUSTOMER_PORTAL_CONFIG_ID=bpc_1STOnK52vWNZ3v8wteUMwNCy
STRIPE_WEBHOOK_SECRET=whsec_your_test_webhook_secret_here
#
# PRODUCTION ENVIRONMENT (Live Mode)
# For production, use these live mode credentials (set via wrangler.jsonc & wrangler secret):
# STRIPE_SECRET_KEY=sk_live_your_live_secret_key_here (wrangler secret)
# NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_live_your_live_publishable_key_here (wrangler.jsonc)
# NEXT_PUBLIC_STRIPE_CUSTOMER_PORTAL_CONFIG_ID=bpc_your_live_portal_config_id_here (wrangler.jsonc)
# STRIPE_WEBHOOK_SECRET=whsec_your_live_webhook_secret_here (wrangler secret)
# ====================================================================================

# OpenRouter AI (Multi-Model Chat)
OPENROUTER_API_KEY=sk-or-v1-your-openrouter-api-key-here

# PostHog Analytics (Production Only)
NEXT_PUBLIC_POSTHOG_API_KEY=phc_j7kkGT8YavyO3VHZMqubY5LXkTk5Y6LqocZn09B9f5O
NEXT_PUBLIC_POSTHOG_HOST=https://us.i.posthog.com

# =============================================================================
# DEBUG & LOGGING CONFIGURATION (Maximum Verbosity)
# =============================================================================

# OpenNext Debug Mode
OPEN_NEXT_DEBUG=true
OPENNEXT_DEBUG=true

# Next.js Build Logging
NEXT_DEBUG=true
NEXT_TELEMETRY_DEBUG=1

# Webpack Logging
WEBPACK_STATS=verbose

# Turbopack/Turbo Debug (if using turbo)
TURBO_LOG_VERBOSITY=4
TURBO_TELEMETRY_DEBUG=1

# Node.js Debug Logging
DEBUG=*
NODE_DEBUG=*
NODE_OPTIONS=--trace-warnings --trace-deprecation

# Cloudflare/Wrangler Debug
WRANGLER_LOG=debug
MINIFLARE_LOG_LEVEL=debug

# Generic Verbose Logging
VERBOSE=true
LOG_LEVEL=debug

# Wrangler Build Configuration
# Fix for @react-email/render workerd export resolution issue
# Forces Wrangler to use node exports instead of workerd during bundling
# @see https://opennext.js.org/cloudflare/troubleshooting
WRANGLER_BUILD_CONDITIONS=""
WRANGLER_BUILD_PLATFORM="node"

# Node/PNPM Versions
NODE_VERSION=22.14.0
PNPM_VERSION=10.10.0

# Cloudflare D1 Remote Database Access (Required for Drizzle Studio remote access)
# These allow `pnpm db:studio:preview` or `pnpm db:studio:prod` to connect to remote databases
CLOUDFLARE_ACCOUNT_ID=499b6c3c38f75f7f7dc7d3127954b921
D1_TOKEN=your-cloudflare-api-token-here
PREVIEW_DATABASE_ID=45ba3c83-ee28-4138-a4af-fed442b3ad05
PROD_DATABASE_ID=8d7d88e0-7f78-4fa8-a70b-9aa32895ad6a

# How to get D1_TOKEN:
# 1. Go to: https://dash.cloudflare.com/profile/api-tokens
# 2. Create Custom Token with: Account > D1 > Read permission
# 3. Copy and paste the token above

# ============================================================================
# RAG (Retrieval Augmented Generation) - Cloudflare AI Search
# ============================================================================
# RAG uses Cloudflare AI Search (AutoRAG) for semantic search over project files.
# AI Search automatically indexes R2 buckets every 6 hours.
#
# SETUP REQUIRED (one-time per environment):
# 1. Create AI Search instance via Cloudflare dashboard or CLI:
#    wrangler ai-search create roundtable-rag-local --source r2://roundtable-dashboard-r2-uploads-local
#    wrangler ai-search create roundtable-rag-preview --source r2://roundtable-dashboard-r2-uploads-preview
#    wrangler ai-search create roundtable-rag-prod --source r2://roundtable-dashboard-r2-uploads-prod
#
# 2. Enable indexing in the dashboard for each instance
#
# AI Search Instances (must be created):
# - Local: roundtable-rag-local (connected to R2: roundtable-dashboard-r2-uploads-local)
# - Preview: roundtable-rag-preview (connected to R2: roundtable-dashboard-r2-uploads-preview)
# - Production: roundtable-rag-prod (connected to R2: roundtable-dashboard-r2-uploads-prod)
#
# Workers AI Binding: AI (configured in wrangler.jsonc)
# Access via: env.AI.autorag('roundtable-rag-{env}')
#
# Multitenancy: Files in projects/{projectId}/ are scoped per project
# Reference: https://developers.cloudflare.com/ai-search/
